<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_24) on Wed Oct 26 12:39:53 EDT 2011 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
Relation
</TITLE>

<META NAME="date" CONTENT="2011-10-26">

<LINK REL ="stylesheet" TYPE="text/css" HREF="stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Relation";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
Class Relation</H2>
<PRE>
java.lang.Object
  <IMG SRC="./resources/inherit.gif" ALT="extended by "><B>Relation</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>Relation</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Relation is created for data queries.
 
 Note:
 
 I have chosen not to materialize the data. I have sit and thought this problem through
 and I just don't think that materializing the data is the best choice. I do understand
 how I would have to process the Relation if a materialization scheme is used.
 
 The cost of writing the entire table to disk prior to generating a single set of results
 is expensive in terms of time. It actually (at this point) seems to me to be much easier
 to actually pipeline the stream instead of rewrite this table to disk and then reprocess
 the new table.
 
 That said, I'm not sure if the following solution represents a true pipeline. I have simply
 enabled the consumer to 'limit' the projection by column names. (See the Relation.limit()
 method for details.)
 
 I think its a form of demand-driven pipelining, aka 'lazy' evaluation. The actual pipelining
 takes place in the Relation.next() method.
 
 The consumer may query the available columns using getColumn() and columnCount() prior to calling
 limit() to ensure only valid column names are used to limit the projection.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>David Ball</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="Relation.html#Relation(Driver, java.lang.String[])">Relation</A></B>(Driver&nbsp;driver,
         java.lang.String[]&nbsp;columns)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a relation with list of columns and current driver.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="Relation.html#actualColumnCount()">actualColumnCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the actual number of columns (before the projection is limited).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="Relation.html#columnCount()">columnCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the projected number of columns.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="Relation.html#getActualColumn(int)">getActualColumn</A></B>(int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the actual column name at index (before the projection is limited).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="Relation.html#getActualColumnIndex(java.lang.String)">getActualColumnIndex</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the actual column index at name (before the projection is limited).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="Relation.html#getColumn(int)">getColumn</A></B>(int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the projected column name at index.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="Relation.html#getColumnIndex(java.lang.String)">getColumnIndex</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the projected column index at name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="Relation.html#limitColumns(java.lang.String[])">limitColumns</A></B>(java.lang.String[]&nbsp;columns)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Limits the columns (and column order) in the projection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;Row</CODE></FONT></TD>
<TD><CODE><B><A HREF="Relation.html#next()">next</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the next Row.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Relation(Driver, java.lang.String[])"><!-- --></A><H3>
Relation</H3>
<PRE>
<B>Relation</B>(Driver&nbsp;driver,
         java.lang.String[]&nbsp;columns)</PRE>
<DL>
<DD>Creates a relation with list of columns and current driver.
 Used internally by model/Driver. Don't use this in consumer.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>driver</CODE> - the driver hosting the Relation<DD><CODE>columns</CODE> - an array of columns to become the default Relation projection</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="actualColumnCount()"><!-- --></A><H3>
actualColumnCount</H3>
<PRE>
public int <B>actualColumnCount</B>()</PRE>
<DL>
<DD>Returns the actual number of columns (before the projection is limited).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="columnCount()"><!-- --></A><H3>
columnCount</H3>
<PRE>
public int <B>columnCount</B>()</PRE>
<DL>
<DD>Returns the projected number of columns.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getActualColumn(int)"><!-- --></A><H3>
getActualColumn</H3>
<PRE>
public java.lang.String <B>getActualColumn</B>(int&nbsp;index)</PRE>
<DL>
<DD>Gets the actual column name at index (before the projection is limited).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>index</CODE> - the column index to retrieve name
<DT><B>Returns:</B><DD>String with column name</DL>
</DD>
</DL>
<HR>

<A NAME="getActualColumnIndex(java.lang.String)"><!-- --></A><H3>
getActualColumnIndex</H3>
<PRE>
public int <B>getActualColumnIndex</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Gets the actual column index at name (before the projection is limited).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>index</CODE> - the column index to retrieve name
<DT><B>Returns:</B><DD>Column index or -1 if not found</DL>
</DD>
</DL>
<HR>

<A NAME="getColumn(int)"><!-- --></A><H3>
getColumn</H3>
<PRE>
public java.lang.String <B>getColumn</B>(int&nbsp;index)</PRE>
<DL>
<DD>Gets the projected column name at index.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>index</CODE> - the column index to retrieve name
<DT><B>Returns:</B><DD>String with column name</DL>
</DD>
</DL>
<HR>

<A NAME="getColumnIndex(java.lang.String)"><!-- --></A><H3>
getColumnIndex</H3>
<PRE>
public int <B>getColumnIndex</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Gets the projected column index at name.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>index</CODE> - the column index to retrieve name
<DT><B>Returns:</B><DD>Column index or -1 if not found</DL>
</DD>
</DL>
<HR>

<A NAME="limitColumns(java.lang.String[])"><!-- --></A><H3>
limitColumns</H3>
<PRE>
public void <B>limitColumns</B>(java.lang.String[]&nbsp;columns)
                  throws java.lang.Exception</PRE>
<DL>
<DD>Limits the columns (and column order) in the projection.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="next()"><!-- --></A><H3>
next</H3>
<PRE>
public Row <B>next</B>()</PRE>
<DL>
<DD>Gets the next Row.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Row or null when no more rows.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<HR>

</BODY>
</HTML>
